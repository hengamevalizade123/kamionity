"use strict";document.addEventListener("DOMContentLoaded",(function(){var e,t=document.querySelectorAll("article h2, article h3");if((e=window.innerWidth>766?document.getElementById("toc-list"):document.getElementById("toc-list-m"))&&window.addEventListener("scroll",(function(){var n=e.querySelectorAll("a");n.forEach((function(e){e.classList.remove("active")})),t.forEach((function(e,t){var a=e.getBoundingClientRect();a.top<=window.innerHeight&&a.bottom>=0&&n[t].classList.add("active")}))})),document.querySelectorAll(".c-live__list").forEach((function(e){var t=e.querySelectorAll("li");if(t.length>0){var n=function e(){var n=t[a],c=n.querySelector("span"),l=c.textContent.trim();n.style.display="list-item",c.textContent="",function r(){i<l.length?(c.textContent+=l.charAt(i),i++,setTimeout(r,s)):setTimeout((function(){n.style.display="none",i=0,a=(a+1)%t.length,e()}),o)}()},a=0,i=0,s=50,o=4e3;t.forEach((function(e){e.style.display="none"})),n()}})),document.getElementById("toc-list")&&t.forEach((function(t,n){var a=document.createElement("li"),i=document.createElement("a"),s="toc-"+n;t.setAttribute("id",s),i.setAttribute("href","#"+s),i.textContent=t.textContent,a.appendChild(i),e.appendChild(a)})),document.getElementById("show-more-product-btn")&&document.getElementById("show-more-product-btn").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(".c-form__more").classList.add("open"),this.style.display="none"})),document.getElementById("no")){var n=document.getElementById("no");document.querySelector(".like-box").addEventListener("click",(function(){document.querySelector(".like-box").classList.add("liked","loaded"),n.classList.add("animate"),n.classList.remove("selected-no"),setTimeout((function(){return n.classList.remove("animate")}),500)})),n.addEventListener("click",(function(){document.querySelector(".like-box").classList.remove("liked","loaded"),n.classList.add("selected-no"),n.classList.add("animate"),setTimeout((function(){return n.classList.remove("animate")}),500)}))}var a=document.querySelector(".js-hamburger");a&&a.addEventListener("click",(function(){document.getElementsByTagName("html")[0].classList.toggle("is-fixed"),document.querySelector(".js-navs").classList.toggle("is-open")}),!1);var i=Math.floor(10*Math.random()),s=Math.floor(10*Math.random()),o=i+s;if(document.getElementById("random-numbers")&&(document.getElementById("random-numbers").innerText="".concat(i," + ").concat(s," = ؟"),document.getElementById("correct_sum").value=o),document.getElementById("videoPopup")){var c=document.querySelectorAll(".video-item"),l=document.getElementById("videoPopup"),r=document.getElementById("popupVideo"),d=document.querySelector(".close");c.forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-video-url");r.src=t,r.play(),l.style.display="flex"}))})),d.addEventListener("click",(function(){l.style.display="none",r.pause(),r.currentTime=0,r.src=""})),l.addEventListener("click",(function(e){e.target===l&&(l.style.display="none",r.pause(),r.currentTime=0,r.src="")}))}document.querySelector(".custom-swiper")&&new Swiper(".custom-swiper",{slidePerView:1,spaceBetween:16})})),document.querySelectorAll(".c-table__num span").forEach((function(e){parseInt(e.textContent.replace(/,/g,""))>9e5&&(e.closest(".c-table__num").innerHTML="<small>تماس بگیرید</small>")})),jQuery(document).ready((function(e){function t(t){var n=e('input[name="shipping"]:checked').data("cost"),a=s("cartTotal"),i=.1*a,o=a+i+n;e("#total-price").length>0&&(e("#shipping-cost").html(n?Number(n).toLocaleString()+'<svg class="toman"><use href="#toman"/></svg>':"رایگان"),e("#total-price").html(Number(a).toLocaleString()+'<svg class="toman"><use href="#toman"/></svg>'),e("#tax-amount").html(Number(i).toLocaleString()+'<svg class="toman"><use href="#toman"/></svg>'),e("#final-price").html(Number(o*t).toLocaleString()+'<svg class="toman"><use href="#toman"/></svg>'),e("#deposit-desc").html(" پرداخت "+100*t+"% مبلغ کل"))}function n(){var t=e("#pr-price").val()*e("#meterage").val();e(".finalPrice").html(Number(t).toLocaleString()+' <svg class="toman"><use href="#toman"/></svg> ')}function a(e){var t=e.closest("li"),n=t.data("product-id"),a=t.find(".total-price-order"),o=t.find(".qty-input"),c=s("shoppingCart"),r=o.val();c.forEach((function(e){String(e.id)===String(n)&&(e.amount=Number(r),a.html(Number(e.amount*e.price).toLocaleString()+'<svg class="toman"><use href="#toman"/></svg>'))})),i("shoppingCart",c,7),l(c,!0)}function i(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var i="expires="+a.toUTCString();document.cookie=e+"="+JSON.stringify(t)+";"+i+";path=/"}function s(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var a=t[n].split("=");if(a[0]===e)return JSON.parse(a[1])}return[]}function o(t,n){var a=s("shoppingCart"),o=a.findIndex((function(e){return String(e.id)===String(t.id)}));-1!==o?(a[o].amount=t.amount,a[o].price=t.price):a.push(t),i("shoppingCart",a,7),l(a),n&&e("#add-cart-success").fadeIn()}if(e(document).on("input",".qty-input",(function(){var t=parseInt(e(this).val());(isNaN(t)||t<1)&&e(this).val(1),e(".meterage-value").length>0&&a(e(this))})),e(".plus").click((function(){var t=e(this).closest(".quantity-box"),n=t.find(".qty-input"),i=t.find(".minus"),s=parseInt(n.val())+1;n.val(s),e(".meterage-popup").val(s),e(".finalPrice").length>0&&e(".finalPrice").html(Number(s*e("#pr-price").val()).toLocaleString()+'<svg class="toman"><use href="#toman"/></svg>'),a(e(this)),s>1&&i.html("-")})),e(".minus").click((function(){var t=e(this).closest(".quantity-box"),n=t.find(".qty-input"),o=t.find(".minus"),c=parseInt(n.val());if(c--,e(".meterage-popup").val(c),e(".finalPrice").length>0&&e(".finalPrice").html(Number(c*e("#pr-price").val()).toLocaleString()+'<svg class="toman"><use href="#toman"/></svg>'),e(".meterage-popup").val(c),c>1)n.val(c),o.html("-"),a(e(this));else if(1==c)n.val(1),a(e(this)),o.html('\n\t\t\t<svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t<path d="M17.5 5.48335C14.725 5.20835 11.9333 5.06668 9.15 5.06668C7.5 5.06668 5.85 5.15001 4.2 5.31668L2.5 5.48335" stroke="#D70609" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t<path d="M7.0835 4.64166L7.26683 3.54999C7.40016 2.75832 7.50016 2.16666 8.9085 2.16666H11.0918C12.5002 2.16666 12.6085 2.79166 12.7335 3.55832L12.9168 4.64166" stroke="#D70609" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t<path d="M15.7082 8.11667L15.1665 16.5083C15.0748 17.8167 14.9998 18.8333 12.6748 18.8333H7.32484C4.99984 18.8333 4.92484 17.8167 4.83317 16.5083L4.2915 8.11667" stroke="#D70609" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t<path d="M8.6084 14.25H11.3834" stroke="#D70609" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t<path d="M7.9165 10.9167H12.0832" stroke="#D70609" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t</svg>\n\t\t');else{var r=e(this).closest("li").data("product-id"),d=s("shoppingCart");i("shoppingCart",d=d.filter((function(e){return String(e.id)!==String(r)})),7),l(d,!0),e(".count-order").text(d.length),e(this).closest("li").fadeOut(350,(function(){e(this).remove()}))}})),e('input[name="thickness"]').change((function(){e("#pr-price").val(e(this).val()),e("#product-id").val(e(this).data("id")),e("#unit-price").html(Number(e(this).val()).toLocaleString()+' <svg class="toman"><use href="#toman"/></svg> '),n()})),e("#checkout-form").submit((function(t){t.preventDefault(),e(".close-btn").click((function(){e("#submited-success").fadeOut()}));var n=!0;if(e("#checkout-form input.required").each((function(){""==e(this).val()?(e(this).closest("label").addClass("is-error"),n=!1):e(this).closest("label").removeClass("is-error")})),n){e("#order-form").fadeOut(),e("#submited-success").fadeIn();var a=document.getElementById("trackingCode").value,i={full_name:e('input[name="user_info[full_name]"]').val(),phone_number:e('input[name="user_info[phone_number]"]').val(),email:e('input[name="user_info[email]"]').val(),city:e('input[name="user_info[city]"]').val(),province:e('input[name="user_info[province]"]').val(),postal_address:e('input[name="user_info[postal_address]"]').val()};e.ajax({url:ajaxObject.ajaxurl,method:"POST",data:{action:"handle_custom_checkout_form",submit_request:!0,trackingCode:a,user_info:i},success:function(t){e("#tracking-code").text("کد رهگیری : "+a),document.cookie="shoppingCart=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="cartTotal = getCookie('cartTotal');\n=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",setTimeout((function(){window.location.href="/"}),4e3)},error:function(){e("body").html("<ul><li>مشکلی پیش آمد. دوباره تلاش کنید.</li></ul>")}})}})),e("#confirm-order").click((function(){e("#order-form").fadeIn()})),e(".success-modal").click((function(t){e(t.target).is(".added-cart")&&e("#add-cart-success").fadeOut()})),e(".close-popup-form").click((function(){e("#order-form").length>0?e(".cart-modal").fadeOut():e("#add-cart-success").length>0&&e("#add-cart-success").fadeOut()})),e('input[name="payment"]').on("change",(function(){"deposit"===e(this).val()?(t(e('input[name="payment-method"]:checked').val()),e("#payment-method").slideDown(300)):(t(1),e("#payment-method").slideUp(300))})),e("#meterage").on("change",(function(){e(".meterage-value").val(e("#meterage").val()),n()})),e('input[name="payment-method"]').on("change",(function(){t(e(this).val())})),e('input[name="shipping"]').on("change",(function(){e("#quickly").is(":checked")?e(".shipping-notice").text("( در تحویل فوری ارسال بصورت فوری می‌باشد ولی در صورت نبود برش مناسب 24 ساعت زمان اضافه می گردد. )"):e("#normal").is(":checked")&&e(".shipping-notice").text("( در تحویل عادی ارسال برش مناسب ۷ الی ۱۰ روز زمان می‌برد. )")})),e(".c-shopping-online").length){var c=e(".product-detail").find("a");e(".shop-now").on("click",(function(t){var n=e(this),a=n.closest(".shop__item");c.text(a.find(".product-name").data("name")),document.getElementById("product-name").value=a.find(".product-name").data("name"),document.getElementById("pr-price").value=a.find(".product-price").data("price"),document.getElementById("product-id").value=n.data("id"),document.getElementById("page-id").value=n.data("pageid"),e("#add-cart-success").fadeIn()}))}function l(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0;t.forEach((function(e){a+=parseInt(e.price*e.amount)}));var s=.1*a,o=a+s;e("#total-price").length>0&&n&&(e("#total-price").html(Number(a).toLocaleString()+'<svg class="toman"><use href="#toman"/></svg>'),e("#final-price").html(Number(o).toLocaleString()+'<svg class="toman"><use href="#toman"/></svg>')),i("cartTotal",a,7)}function r(){var t=e("#product-select").find(":selected").data("price");t?e("#product-price").html(t+'<svg class="toman"><use href="#toman"></use></svg>'):e("#product-price").text("تماس بگیرید")}e("#add-to-card").length>0&&e("#add-to-card").on("click",(function(t){var n;if(e(".c-shopping-online").length){var a=document.getElementById("product-name").value,i=document.getElementById("pr-price").value,s=document.getElementById("meterage").value;n={id:document.getElementById("product-id").value,name:a,price:i,amount:s,pageId:document.getElementById("page-id").value},e("#add-cart-success").fadeOut(),o(n,!1)}else{var c=document.getElementById("product-name").value,l=document.getElementById("pr-price").value,r=document.getElementById("meterage").value;o(n={id:document.getElementById("product-id").value,name:c,price:l,amount:r,pageId:document.getElementById("page-id").value},!0)}})),l(s("shoppingCart")),e("#product-select").on("change",r),r(),e(".more-text").length>0&&e(".more-text").on("click",(function(){var t=e(this).closest(".c-des").find(".hidden-content"),n=e(this).find(".text");t.is(":visible")?(t.slideUp(),e(this).removeClass("open"),n.text("مشاهده بیشتر")):(t.slideDown(),e(this).addClass("open"),n.text("مشاهده کمتر"))})),e(".c-search-btn").on("click",(function(){e("#search-popup").fadeIn()})),e("#toc-list-m").length&&(e("#toc-list-m").hide(),e(".toggle-icon").text("+"),e(".c-table__title-m").click((function(){e("#toc-list-m").stop(!0,!0).slideToggle(400)}))),e(".close-popup").on("click",(function(){e("#search-popup").fadeOut()}));var d=e("#ajax-search-field"),u=e("#search-results");e("#search-popup").on("click",(function(t){e(t.target).is("#search-popup")&&(e("#search-popup").fadeOut(),d.val(""),e(this).find("#search-results").empty())})),d.on("input",(function(){var t=d.val().trim();t.length<3?u.slideUp(200,(function(){e(this).empty()})):e.ajax({url:ajaxObject.ajaxurl,method:"GET",data:{action:"handle_ajax_search",s:t},beforeSend:function(){u.html('<ul><li class="search-loading">در حال جستجو</li></ul>').slideDown(200)},success:function(e){u.html(e)},error:function(){u.html("<ul><li>مشکلی پیش آمد. دوباره تلاش کنید.</li></ul>")}})})),e(".c-faq__q").length>0&&e(".c-faq__q").on("click",(function(){var t=e(this).closest(".c-faq__item"),n=t.find(".c-faq__a");t.hasClass("active")?(t.removeClass("active"),n.slideUp()):(e(".c-faq__item").removeClass("active"),e(".c-faq__a").slideUp(),t.addClass("active"),n.slideDown())})),e(document).ready((function(){var t,n,a,i,s=e(".c-section--header"),o=(t=function(){e(window).scrollTop()>50?s.addClass("js-scroll"):s.removeClass("js-scroll")},n=100,function(){var e=this,s=arguments;i?(clearTimeout(a),a=setTimeout((function(){Date.now()-i>=n&&(t.apply(e,s),i=Date.now())}),n-(Date.now()-i))):(t.apply(e,s),i=Date.now())});e(window).on("scroll",o)})),e(".c-section--header-landing").length&&e(window).scroll((function(){var t=e(window).scrollTop(),n=e(".c-section--header-landing");n.length&&(t>=36&&!n.hasClass("js-scroll")?n.addClass("js-scroll"):t<36&&n.hasClass("js-scroll")&&n.removeClass("js-scroll"))})),e(".js-tabs").length&&e(".js-tabs").each((function(t,n){e(this);var a=e(this).find(".js-tabs-nav__item"),i=e(this).find(".js-tab-__title_text"),s=e(this).find(".js-tabs-content__item");s.hide(),i.each((function(t,n){e(this).attr("data-target",t)})),e(a[0],i[0]).addClass("js-active"),e(s[0]).show(),e(this).find(".js-tabs-nav__item").click((function(t){e(this).closest(".js-tabs").find(".js-active").removeClass("js-active"),e(this).addClass("js-active"),e(this).find(".js-tab-__title_text").addClass("js-active"),e(this).closest(".js-tabs").find(".js-tabs-content:first > .js-tabs-content__item").hide(),e(this).closest(".js-tabs").find(".js-tabs-content:first > .js-tabs-content__item").eq(parseInt(e(this).find("[data-target]").attr("data-target"))).show()}))}));var m=".js-table",p=".js-table__content";if(e(m).length&&(e(m).each((function(){e(this).addClass("js-close")})),e(".js-table .js-table__header").click((function(){if(e(this).closest(m).find(".panel-svg")){var t=e(this).data("color");document.querySelectorAll(".change-color").forEach((function(e){e.setAttribute("fill",t)}))}-1!=e(this).closest(m).attr("class").indexOf("js-close")?(e(m).find(p).slideUp("slow"),e(m).addClass("js-close").removeClass("js-open"),e(this).closest(m).removeClass("js-close").addClass("js-open"),e(this).closest(m).find(p).slideDown("slow")):(e(this).closest(m).addClass("js-close").removeClass("js-open"),e(this).closest(m).find(p).slideUp("slow"))}))),e(".c-table__num, .js-table__content-price").length&&e(".c-table__num, .js-table__content-price").each((function(){e(this).html((function(e,t){return t.replace(/\d+(?:\.\d+)?/g,(function(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}))}))})),e("#js-news-ticker").breakingNews({height:40,fontSize:"default",themeColor:"default",background:"default",borderWidth:0,direction:"rtl",radius:0,zIndex:99999,stopOnHover:!0}),e(".slide-show-1")&&(e(".slide-show-1").css("fill","rgba(230, 231, 236, 1)"),e(".carousel").on("change.flickity",(function(t,n){var a=e(".carousel").data("flickity").cells.length;e(".slider-position").html('<span class="total-slide">0'+a+'/</span><span class="active-slide">0'+(n+1)+"</span>");for(var i=1;i<=a;i++)e(".slide-show-"+i).css("fill","rgba(170, 170, 174, 1)"),e(".slide-location-show-"+i+" path").css("fill","rgba(212, 213, 217, 1)");e(".slide-show-"+(n+1)).css("fill","rgba(230, 231, 236, 1)"),e(".slide-location-show-"+(n+1)+" path").css("fill","rgba(0, 19, 66, 1)")}))),e(".c-hero-landing__slider").length){var h=e(".c-hero-landing__slider").data("flickity").cells.length,f=1/h*100,g=e(".c-hero-landing__slider").find(".c-hero-landing__slider-item").eq(0).attr("data-img");document.body.style.setProperty("--bg-img-landing","url(".concat(g,")")),e(".slider-progress-fill").css("width",f+"%"),e(".c-hero-landing__slider").on("change.flickity",(function(t,n){var a=(n+1)/h*100;e(".slider-position-hero").html('<span class="total-slide">0'+h+'/</span><span class="active-slide">0'+(n+1)+"</span>"),e(".slider-progress-fill").css("width",a+"%");var i=e(".c-hero-landing__slider").find(".c-hero-landing__slider-item").eq(n).attr("data-img");e(".c-section--hero-landing").each((function(){this.style.setProperty("--bg-img-landing","url(".concat(i,")"))}))}))}var v=!1;e(".btn-more-landing").click((function(){v?(e(".c-desc-landing").animate({"max-height":"141px"},500),e(this).text("مشاهده بیشتر"),e(".c-desc-landing").removeClass("is-open"),v=!1):(e(".c-desc-landing").animate({"max-height":"2000px"},500),e(".c-desc-landing").addClass("is-open"),e(this).text("مشاهده کمتر"),v=!0)})),e("#order-pop")&&(e("#order-pop").click((function(){e("#popup-order").fadeIn()})),e("#close-popup").click((function(){e("#popup-order").fadeOut()})),e("#popup-order").click((function(t){"popup-order"===t.target.id&&e(this).fadeOut()})))}));